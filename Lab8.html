<!DOCTYPEhtml>
<html>
<head>
  <metacharset="utf-8"/>
  <metaname="viewport"content="initial-scale=1,maximum-scale=1,user-scalable=no"/>
  <title>Visualize features with realistic WebStyleSymbols - 4.14</title>

  <linkrel="stylesheet"

  href="https://js.arcgis.com/4.14/esri/themes/light/main.css"/>

  <script src ="https://js.arcgis.com/4.14/"></script>


<style>
html,
body,
#viewDiv
{padding:0;margin:0;height:100%;width:100%;}
</style>

<script>

require([
  "esri/WebScene",
  "esri/views/SceneView",
  "esri/layers/FeatureLayer",
  "esri/layers/SceneLayer",
  "esri/tasks/support/Query"],

  function(WebScene,SceneView,FeatureLayer,SceneLayer,Query){
    //Createthewebscene

    var map = new WebScene({
      basemap:"satellite",
      ground:"world-elevation"});

    //Createtheview

    var view = new SceneView({
      container:"viewDiv",
      map:map,
      camera:{position:{
        latitude:41.6608232,
        longitude:-91.537668,
        z:290
      },
      tilt:60,
      heading:330},
      environment:{
        lighting:{
          date:new Date("April15,202016:00:00EDT"),
          directShadowsEnabled:true,
          ambientOcclusionEnabled:true
        }
      }
    });

    var uniqueValueInfos = [
      {
        value:"Crataegussp.",
        symbol:{
          type:"web-style",//autocastsasnewWebStyleSymbol()
          name:"Crataegus",
          styleName:"EsriRealisticTreesStyle"
        }},
        {
          value:"Fraxinuspennsylvanica",
          symbol:{
            type:"web-style",//autocastsasnewWebStyleSymbol()
            name:"Fraxinus",
            styleName:"EsriRealisticTreesStyle"
          }},
          {
            value:"Piceaabies",
            symbol:{
              type:"web-style",//autocastsasnewWebStyleSymbol()
              name:"Picea",
              styleName:"EsriRealisticTreesStyle"

            }},
            {
              value:"Gleditsiatriacanthos",
              symbol:{
                type:"web-style",//autocastsasnewWebStyleSymbol()
                name:"Robinia",
                styleName:"EsriRealisticTreesStyle"

              }},
              {
                value:"Fagusgrandifolia",
                symbol:{
                  type:"web-style",//autocastsasnewWebStyleSymbol()
                  name:"Fagus",
                  styleName:"EsriRealisticTreesStyle"

                }},
                {
                  value:"Quercusmacrocarpa",
                  symbol:{
                    type:"web-style",//autocastsasnewWebStyleSymbol()
                  name:"Quercus",
                  styleName:"EsriRealisticTreesStyle"
                }},
                {
                  value:"Pinusstrobus",
                  symbol:{
                    type:"web-style",//autocastsasnewWebStyleSymbol()
                  name:"Pinus",
                  styleName:"EsriRealisticTreesStyle"
                }},
                {
                  value:"Liriodendrontulipifera",
                  symbol:{type:"web-style",//autocastsasnewWebStyleSymbol()
                  name:"Philodendron",
                  styleName:"EsriRealisticTreesStyle"
                }}];

    var vegetationLayer= new FeatureLayer({
      url:
      "https://maps.facilities.uiowa.edu/arcgis/rest/services/Features/Trees/MapServer/1",
      elevationInfo:{
        mode:"on-the-ground"
      },
      renderer:{
        type:"unique-value",
      //autocastsasnewUniqueValueRenderer()
      field:"Scientific",
      defaultSymbol:{
        type:"web-style",//autocastsasnewWebStyleSymbol()
        name:"Unknown",
        styleName:"EsriRealisticTreesStyle"
      },
      uniqueValueInfos:uniqueValueInfos,
      visualVariables:[{
        type:"size",
        field:"Height",
        axis:"height"//taketherealheightoftheplantfromtheSIZEfield
      },
      {
        type:"rotation",
        valueExpression:"random()*360"//weusearandomrotation,sothatplantslookdifferent
      }]}});
      map.add(
        vegetationLayer);

      });



    </script>
    </head>
    <body>
    <divid="viewDiv"></div>
    </body>
    </html>
